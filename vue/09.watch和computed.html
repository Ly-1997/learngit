<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>09.watch和computed</title>
    <script src="../node_modules/vue/dist/vue.min.js"></script>
</head>
<body>
    <div id="app">
        <input type="text" name="" id="" v-model="msg">
        <div>{{msgTwo}}</div>
        <button @click="arr[0].name=='张三'?arr[0].name='李四':arr[0].name='张三'">点击改变arr</button>
    </div>
</body>
<script>
    new Vue({
        el: "#app",
        data() {
            return {
                msg: '',
                msgTwo: '',
                arr: [{name: '张三'},{age: '18'},{sex: '男'}],
            }
        },
        // watch一般用来监听单个属性，复杂数据可以用其他方式
        watch: {    //{}对象可以监听多个数据属性
            // 单个监听，基本类型、简单类型直接监听
            msg: function (newV,oldV) { //第一个参数是新值，第二个参数是旧值
                console.log(newV,oldV);
                newV=='19971004'?this.msgTwo='19971004':this.msgTwo='';
            },
            // 深度监听是以下方式，主要用于监听数组、对象等复杂类型、引用类型，对引用类型使用简单监听方式无效
            arr: {
                deep: true,
                handler: function (newV,oldV) {
                console.log(this.arr);
                
                console.log(newV[0].name,oldV[0].name);
                }
                
            }
        }
    });
</script>
</html>